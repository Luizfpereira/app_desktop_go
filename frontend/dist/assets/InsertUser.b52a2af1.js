import{r as d,j as e,a}from"./index.921012c8.js";function E(t){return window.go.main.App.CreateUser(t)}function S(){const[t,m]=d.exports.useState({}),[u,c]=d.exports.useState(!0),[p,N]=d.exports.useState({name:!1,email:!1}),[h,g]=d.exports.useState([]);function v(l){return l.map(n=>n&&new Date(n).toISOString())}const s=l=>{const n=l.target.name;let i=l.target.value;Number(i)&&(i=Number(i)),m(r=>({...r,[n]:i}))},b=l=>{const n=l.target.name;let i=l.target.value;(!isNaN(i)||i==="")&&(i=Number(i),m(r=>({...r,[n]:i===""?null:Number(i)})))},x=l=>{const n=l.target.value,i=l.target.name;(!n||n.match(/^\d{1,}(\.\d{0,2})?$/))&&m(r=>{const o={...r,[i]:n};if(o.weight>0&&o.height>0){c(!1);let y=Math.round(o.weight/Math.pow(o.height,2)*100)/100;return{...o,imc:y}}else return c(!0),{...o,imc:0}})};function f(){const l=[];let n={name:!1,email:!1};if(t.name||(l.push("Nome \xE9 requerido"),n.name=!0),t.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(t.email)||l.push("Email inv\xE1lido"):(l.push("Email \xE9 requerido"),n.email=!0),N(n),l.length>0)throw new Error(l.join("; "))}return e("div",{children:a("form",{onSubmit:l=>{l.preventDefault();try{f();const n=[t.birth_date,t.assessment_date],i=v(n),r={...t,birth_date:i[0],assessment_date:i[1]};E(r),m({}),g([])}catch(n){const i=n.message.split("; ");g(i)}},children:[h.length>0&&e("div",{className:"error-messages",children:e("ul",{children:h.map((l,n)=>a("li",{children:["* ",l]},n))})}),e("div",{className:"input-table",children:a("div",{className:"input-group",children:[e("label",{htmlFor:"fname",children:"Nome *"}),e("input",{id:"name",type:"text",name:"name",placeholder:"Digite seu nome completo",value:t.name||"",onChange:s,className:`input-box ${p.name===!0?"empty":""}`})]})}),a("div",{className:"input-table",children:[a("div",{className:"input-group",children:[e("label",{htmlFor:"fname",children:"Email *"}),e("input",{id:"email",type:"text",name:"email",placeholder:"Ex.: seuemail@exemplo.com",value:t.email||"",onChange:s,className:`input-box ${p.email===!0?"empty":""}`})]}),a("div",{className:"input-group",children:[e("label",{htmlFor:"fname",children:"Data de Nascimento"}),e("input",{id:"birth_date",type:"date",name:"birth_date",placeholder:"Somente n\xFAmeros",value:t.birth_date||"",onChange:s,className:"input-box"})]})]}),a("div",{className:"input-table",children:[a("div",{className:"input-group",children:[e("label",{htmlFor:"fname",children:"Endere\xE7o"}),e("input",{id:"address",type:"text",name:"address",placeholder:"Digite seu endere\xE7o",value:t.address||"",onChange:s,className:"input-box"})]}),a("div",{className:"input-group",children:[e("label",{htmlFor:"fname",children:"N\xFAmero"}),e("input",{id:"address_number",type:"text",name:"address_number",placeholder:"N\xFAmero do endere\xE7o",value:t.address_number||"",onChange:b,className:"input-box"})]})]}),a("div",{className:"input-table",children:[a("div",{className:"input-group",children:[e("label",{htmlFor:"fname",children:"CEP"}),e("input",{id:"cep",type:"text",name:"cep",placeholder:"Somente n\xFAmeros",value:t.cep||"",onChange:b,className:"input-box"})]}),a("div",{className:"input-group",children:[e("label",{htmlFor:"gender",children:"G\xEAnero"}),a("select",{id:"gender",name:"gender",value:t.gender||"",onChange:s,className:"input-box",children:[e("option",{value:"Masculino",children:"Masculino"}),e("option",{value:"Feminino",children:"Feminino"}),e("option",{value:"Neutro",children:"Neutro"})]})]})]}),a("div",{className:"input-table",children:[a("div",{className:"input-group",children:[e("label",{htmlFor:"fname",children:"Profiss\xE3o"}),e("input",{id:"profession",type:"text",name:"profession",placeholder:"Sua profiss\xE3o",value:t.profession||"",onChange:s,className:"input-box"})]}),a("div",{className:"input-group",children:[e("label",{htmlFor:"fname",children:"M\xE9dico"}),e("input",{id:"doctor",type:"text",name:"doctor",placeholder:"Seu m\xE9dico",value:t.doctor||"",onChange:s,className:"input-box"})]})]}),a("div",{className:"input-table",children:[a("div",{className:"input-group",children:[e("label",{htmlFor:"fname",children:"Peso (kg)"}),e("input",{id:"weight",type:"text",name:"weight",placeholder:"Ex.: 75.3",value:t.weight||"",onChange:x,className:"input-box"})]}),a("div",{className:"input-group",children:[e("label",{htmlFor:"fname",children:"Altura (m)"}),e("input",{id:"height",type:"text",name:"height",placeholder:"Ex.: 1.75",value:t.height||"",onChange:x,className:"input-box"})]}),a("div",{className:"input-group",children:[e("label",{htmlFor:"fname",children:"IMC"}),e("input",{id:"imc",type:"text",name:"imc",placeholder:"Calculado automaticamente",value:t.imc||"",className:`input-box ${u===!0?"disabled":""}`,disabled:u})]})]}),a("div",{className:"input-table",children:[a("div",{className:"input-group",children:[e("label",{htmlFor:"fname",children:"Polissonografia Tipo"}),e("input",{id:"polysonnography",type:"text",name:"polysonnography",placeholder:"Tipo da Polissonografia",value:t.polysonnography||"",onChange:s,className:"input-box"})]}),a("div",{className:"input-group",children:[e("label",{htmlFor:"fname",children:"Data da avalia\xE7\xE3o"}),e("input",{id:"assessment_date",type:"date",name:"assessment_date",placeholder:"Somente n\xFAmeros",value:t.assessment_date||"",onChange:s,className:"input-box"})]})]}),e("button",{type:"submit",children:"Salvar"})]})})}export{S as default};
