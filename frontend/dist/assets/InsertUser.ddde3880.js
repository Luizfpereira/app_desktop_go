import{r as d,j as e,a as t,C as E}from"./index.ad3e4181.js";function w(){const[n,m]=d.exports.useState({}),[c,u]=d.exports.useState(!0),[p,N]=d.exports.useState({name:!1,email:!1}),[h,g]=d.exports.useState([]);function v(a){return a.map(l=>l&&new Date(l).toISOString())}const s=a=>{const l=a.target.name;let i=a.target.value;Number(i)&&(i=Number(i)),m(r=>({...r,[l]:i}))},b=a=>{const l=a.target.name;let i=a.target.value;(!isNaN(i)||i==="")&&(i=Number(i),m(r=>({...r,[l]:i===""?null:Number(i)})))},x=a=>{const l=a.target.value,i=a.target.name;(!l||l.match(/^\d{1,}(\.\d{0,2})?$/))&&m(r=>{const o={...r,[i]:l};if(o.weight>0&&o.height>0){u(!1);let y=Math.round(o.weight/Math.pow(o.height,2)*100)/100;return{...o,imc:y}}else return u(!0),{...o,imc:0}})};function f(){const a=[];let l={name:!1,email:!1};if(n.name||(a.push("Nome \xE9 requerido"),l.name=!0),n.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(n.email)||a.push("Email inv\xE1lido"):(a.push("Email \xE9 requerido"),l.email=!0),N(l),a.length>0)throw new Error(a.join("; "))}function F(a){a.height=parseFloat(n.height),a.weight=parseFloat(n.weight)}return e("div",{children:t("form",{onSubmit:a=>{a.preventDefault();try{f();const l=[n.birth_date,n.assessment_date],i=v(l),r={...n,birth_date:i[0],assessment_date:i[1]};F(r),E(r),m({}),g([])}catch(l){const i=l.message.split("; ");g(i)}},children:[h.length>0&&e("div",{className:"error-messages",children:e("ul",{children:h.map((a,l)=>t("li",{children:["* ",a]},l))})}),e("div",{className:"input-table",children:t("div",{className:"input-group",children:[e("label",{htmlFor:"fname",children:"Nome *"}),e("input",{id:"name",type:"text",name:"name",placeholder:"Digite seu nome completo",value:n.name||"",onChange:s,className:`input-box ${p.name===!0?"empty":""}`})]})}),t("div",{className:"input-table",children:[t("div",{className:"input-group",children:[e("label",{htmlFor:"fname",children:"Email *"}),e("input",{id:"email",type:"text",name:"email",placeholder:"Ex.: seuemail@exemplo.com",value:n.email||"",onChange:s,className:`input-box ${p.email===!0?"empty":""}`})]}),t("div",{className:"input-group",children:[e("label",{htmlFor:"fname",children:"Data de Nascimento"}),e("input",{id:"birth_date",type:"date",name:"birth_date",placeholder:"Somente n\xFAmeros",value:n.birth_date||"",onChange:s,className:"input-box"})]})]}),t("div",{className:"input-table",children:[t("div",{className:"input-group",children:[e("label",{htmlFor:"fname",children:"Endere\xE7o"}),e("input",{id:"address",type:"text",name:"address",placeholder:"Digite seu endere\xE7o",value:n.address||"",onChange:s,className:"input-box"})]}),t("div",{className:"input-group",children:[e("label",{htmlFor:"fname",children:"N\xFAmero"}),e("input",{id:"address_number",type:"text",name:"address_number",placeholder:"N\xFAmero do endere\xE7o",value:n.address_number||"",onChange:b,className:"input-box"})]})]}),t("div",{className:"input-table",children:[t("div",{className:"input-group",children:[e("label",{htmlFor:"fname",children:"CEP"}),e("input",{id:"cep",type:"text",name:"cep",placeholder:"Somente n\xFAmeros",value:n.cep||"",onChange:b,className:"input-box"})]}),t("div",{className:"input-group",children:[e("label",{htmlFor:"gender",children:"G\xEAnero"}),t("select",{id:"gender",name:"gender",value:n.gender||"",onChange:s,className:"input-box",children:[e("option",{value:"Masculino",children:"Masculino"}),e("option",{value:"Feminino",children:"Feminino"}),e("option",{value:"Neutro",children:"Neutro"})]})]})]}),t("div",{className:"input-table",children:[t("div",{className:"input-group",children:[e("label",{htmlFor:"fname",children:"Profiss\xE3o"}),e("input",{id:"profession",type:"text",name:"profession",placeholder:"Sua profiss\xE3o",value:n.profession||"",onChange:s,className:"input-box"})]}),t("div",{className:"input-group",children:[e("label",{htmlFor:"fname",children:"M\xE9dico"}),e("input",{id:"doctor",type:"text",name:"doctor",placeholder:"Seu m\xE9dico",value:n.doctor||"",onChange:s,className:"input-box"})]})]}),t("div",{className:"input-table",children:[t("div",{className:"input-group",children:[e("label",{htmlFor:"fname",children:"Peso (kg)"}),e("input",{id:"weight",type:"text",name:"weight",placeholder:"Ex.: 75.3",value:n.weight||"",onChange:x,className:"input-box"})]}),t("div",{className:"input-group",children:[e("label",{htmlFor:"fname",children:"Altura (m)"}),e("input",{id:"height",type:"text",name:"height",placeholder:"Ex.: 1.75",value:n.height||"",onChange:x,className:"input-box"})]}),t("div",{className:"input-group",children:[e("label",{htmlFor:"fname",children:"IMC"}),e("input",{id:"imc",type:"text",name:"imc",placeholder:"Calculado automaticamente",value:n.imc||"",className:`input-box ${c===!0?"disabled":""}`,disabled:c})]})]}),t("div",{className:"input-table",children:[t("div",{className:"input-group",children:[e("label",{htmlFor:"fname",children:"Polissonografia Tipo"}),e("input",{id:"polysonnography",type:"text",name:"polysonnography",placeholder:"Tipo da Polissonografia",value:n.polysonnography||"",onChange:s,className:"input-box"})]}),t("div",{className:"input-group",children:[e("label",{htmlFor:"fname",children:"Data da avalia\xE7\xE3o"}),e("input",{id:"assessment_date",type:"date",name:"assessment_date",placeholder:"Somente n\xFAmeros",value:n.assessment_date||"",onChange:s,className:"input-box"})]})]}),e("button",{type:"submit",className:"button",children:"Salvar"})]})})}export{w as default};
